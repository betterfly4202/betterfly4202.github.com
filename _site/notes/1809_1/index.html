<p>새로운 삽질을 했다.</p>

<p>작업 내역은 Log4j를 통해 기록하는 로그들의 로그레벨을 변경하고(DEBUG -&gt; INFO) 해당 로그파일을 롤링하는 작업이다.</p>

<p>워낙 가이드가 많기 때문에 설정에는 큰 어려움이 없다.</p>

<p>로컬 개발환경은 윈도우니까 내 환경에 맞는 로컬 경로를 설정하면 될것이고, 배포될 웹로직 서버는 리눅스니까 해당 경로만 잡아주면된다.</p>

<p>파일 롤링은</p>

<blockquote>
  <p>log4j.appender.logfile=com.wily.org.apache.log4j.DailyRollingFileAppender
log4j.appender.logfile.DatePattern=’.’yyyy-MM-dd</p>
</blockquote>

<p>위 설정과 필요에 따른 설정값을 세팅해주면되는데,</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"dailyLog"</span> <span class="na">class=</span><span class="s">"org.apache.log4j.DailyRollingFileAppender"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"Append"</span> <span class="na">value=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
        <span class="c">&lt;!--&lt;param name="ImmediateFlush" value="true"/&gt;--&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"Threshold"</span> <span class="na">value=</span><span class="s">"INFO"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"File"</span> <span class="na">value=</span><span class="s">"D:\logs\dailyLog.log"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"DatePattern"</span> <span class="na">value=</span><span class="s">"'.'yyyy-MM-dd"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"MaxFileSize"</span> <span class="na">value=</span><span class="s">"1MB"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"MaxBackupIndex"</span> <span class="na">value=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;layout</span> <span class="na">class=</span><span class="s">"org.apache.log4j.PatternLayout"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"ConversionPattern"</span> <span class="na">value=</span><span class="s">"%d{HHmmss.SSS} [%-5p] %c{1}.%M():%L %m%n"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/layout&gt;</span>
    <span class="nt">&lt;/appender&gt;</span>

</code></pre></div></div>
<p>대략 위와 같이 설정을 했다.</p>

<p>그런데 아무리 해봐도 파일 생성이 안되는 것이다.</p>

<p>설정값이 잘못되었나 싶어서 구글링해서 나오는 거의 모든 서로 다른 설정은 다 적용해본 것 같다.</p>

<p>문제의 근본적인 원인을 모르니 계속 삽질은 거듭되었다. 몇시간동안 그렇게 사투끝에 다시 한 번 자세히 들여다 보았다.</p>

<p>혹시나 싶었다.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"File"</span> <span class="na">value=</span><span class="s">"D:\logs\dailyLog.log"</span><span class="nt">/&gt;</span>
</code></pre></div></div>

<p>위 경로설정을 아래와 같이 바꾸어 주었다.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"File"</span> <span class="na">value=</span><span class="s">"D:/logs/dailyLog.log"</span><span class="nt">/&gt;</span>
</code></pre></div></div>

<p>기존에 왜… 굳이 왜 역슬러쉬를 사용했는지 모르겠다. 역슬러쉬를 써야 컴파일하면서 슬러쉬로 인식된다는 이상한 착각에 빠져있던 것 같다.</p>

<hr />

<p><strong>역슬러쉬의 문제였다.</strong></p>

<p>늘 그렇듯 이런 삽질끝에는 큰 자괴감이라는 쓰나미가 몰려온다.</p>

<p>그래서 조사했다. 역슬러쉬와 슬러쉬의 차이점을…</p>

<p>이건 포스팅 자료에 등록해야겠다…</p>

